import {Earth} from 'leaflet/src/geo/crs/CRS.Earth';
import {Mercator} from 'leaflet/src/geo/projection/Projection.Mercator';
import {toTransformation} from 'leaflet/src/geometry/Transformation';
import * as Util from 'leaflet/src/core/Util';

/*
 * @namespace CRS
 * @crs L.CRS.EPSG3395
 *
 * Rarely used by some commercial tile providers. Uses Elliptical Mercator projection.
 */
export var EPSG3395 = Util.extend({}, Earth, {
	code: 'EPSG:3395',
	projection: Mercator,

	transformation: (function () {
		var scale = 0.5 / (Math.PI * Mercator.R);
		return toTransformation(scale, 0.5, -scale, 0.5);
	}())
});
